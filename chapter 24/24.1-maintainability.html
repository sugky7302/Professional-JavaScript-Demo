<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 通过初始化指定变量类型
    var found = false;       // 布尔型
    var count = -1;         // 数字
    var name = '';          // 字符串
    var person = null;      // 对象

    // 用于指定数据类型的匈牙利标记法
    var bFound;     // 布尔型
    var iCount;     // 整数
    var sName;      // 字符串
    var oPerson;    // 对象

    // 用于指定类型的类型注释
    var found /*:Boolean*/ = false;
    var count /*:int*/ = 10;
    var name /*:String*/ = 'tc';
    var person /*Object*/ = null;
</script>

<!--使用了<script>的紧密耦合的HTML和JavaScript-->
<script>
    document.write('hello');
</script>

<!--使用事件处理程序属性值的紧密耦合的HTML和JavaScript-->
<input type="button" value="click me" onclick="doSomething()" />

<script>
    // 将HTML紧密耦合到JavaScript
    function insertMessage(msg) {
        var container = document.getElementById('container');
        container.innerHTML = '<div class="msg"><p class="post">' + msg +'</p>' + '<p><em>latest message above.</em></p></div>';
    }

    // css对JavaScript的紧密耦合
    element.style.color = 'red';
    element.style.backgroundColor = 'blue';

    // css对JavaScript的松散耦合
    element.className = 'edit';

    function handleKeyPress(event) {
        event = EventUtil.getEvent(event);
        if (event.keyCode == 13) {
            var target = EventUtil.getTarget(event);
            var value = 5 * parseInt(target.value);
            if (value > 10) {
                document.getElementById('error-msg').style.display = 'block';
            }
        }
    }

    function validateValue(value) {
        value = 5 * parseInt(value);
        if (value > 10) {
            document.getElementById('error-msg').style.display = 'block';
        }
    }

    function handleKeyPress(event) {
        event = EventUtil.getEvent(event);
        if (event.keyCode == 13) {
            var target = EventUtil.getTarget(event);
            validateValue(target.value);
        }
    }

    // 两个全局量---避免
    var name = 'tc';
    function sayName() {
        console.log(name);
    }

    // 一个全局量---推荐
    var MyApplication = {
        name: 'tc',
        sayName: function () {
            console.log('this.name');
        }
    };

    // 创建全局对象
    var Wrox = {};

    // 为Professional JavaScript创建命名空间
    Wrox.ProJS = {};

    // 将书中用到的对象附加上去
    Wrox.ProJS.EventUtil = {};
    Wrox.ProJS.CookieUtil = {};

    function sortArray(values) {
        if (values != null) {       // 避免
            values.sort(comparator);
        }
    }

    function sortArray(values) {
        if (values instanceof Array) {       // 推荐
            values.sort(comparator);
        }
    }

    function validate(value) {
        if (!value) {
            console.log('invalid value!');
            location.href = '/errors/invalid.php';
        }
    }

    var Constants = {
        INVALID_VALUE_MSG: 'invalid value!',
        INVALID_VALUE_URL: '/errors/invalid.php'
    };

    function validate(value) {
        if (!value) {
            alert(Constants.INVALID_VALUE_MSG);
            location.href = Constants.INVALID_VALUE_URL;
        }
    }

    function updateUI() {
        var imgs = document.getElementsByTagName('img');
        for (var i = 0, len = imgs.length; i < len; i++) {
            imgs[i].title = document.title + ' image ' + i;
        }
        var msg = document.getElementById('msg');
        msg.innerHTML = 'Update complete';
    }
</script>
</body>
</html>