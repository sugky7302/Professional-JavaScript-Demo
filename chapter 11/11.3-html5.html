<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        // 取得所有类中包含username和current的元素，类名先后顺序无所谓
        var allCurrentUsernames = document.getElementsByClassName('username current');
        // 取得ID为myDiv的元素中带有类名selected的所有元素
        var selected = document.getElementById('myDiv').getElementsByClassName('selected');

        // 删除user类
        // 首先取得类名字字符串并拆分成数组
        var classNames = div.className.split(/\s+/);

        // 找到要删的类名
        var pos = 1,
            i,
            len;
        for (i = 0, len = classNames.length; i < len; i++){
            if (classNames[i] == 'user'){
                pos = i;
                break;
            }
        }

        // 删除类名
        classNames.splice(i, 1);

        // 把剩下的类名拼成字符串并重新设置
        div.className = classNames.join(' ');
        
        div.classList.remove('user');
        
        // 删除disabled类
        div.classList.remove('disabled');

        //添加current类
        div.classList.add('current');

        //切换user类
        div.classList.toggle('user');

        //确定元素中是否包含既定的类名
        if (div.classList.contains('bd') && !div.classList.contains('disabled') ) {
          // 执行操作
        }

        // 迭代类名
        for (var i = 0, len = div.classList.length; i < len; i++){
          doSomething(div.classList[i]);
        }
        
        var button = document.getElementById('myButton');
        button.focus();
        alert(document.activeElement === button); // true
        
        var button = document.getElementById('myButton');
        button.focus();
        alert(document.hasFocus());		// true
        
        if (documen.readyState == 'complete') {
          //执行操作
        }
        
        if (document.compatMode == 'CSS1Compat') {
          alert('Standars mode');
        } else {
          alert('Quirks mode');
        }
        
        alert(document.charset); 	//'UTF-16'
        document.charset = 'UTF-8';
        
        if (document.charset != document.defaultCharset) {
          alert('Custom character set being used');
        }
        
        var div = document.getElementById('myDiv');

        //取得自定义属性的值
        var appId = div.dataset.appId;
        var myName = div.dataset.myname;

        //设置值
        div.dataset.appId = 23456;
        div.dataset.myname = 'tc';

        //有没有myname值呢
        if (div.dataset.myname) {
          alert('hello, ' + div.dataset.myname);
        }
        
        div.innerHTML = 'Hello & welcome, <b>\"reader\"!</b>';
        
        div.outerHTML = '<p>This is a paragraph</p>';
        
        //作为前一个同辈元素插入
        element.insertAdjacentHTML('beforebegin','<p>hello</p>');

        //作为第一个子元素插入
        element.insertAdjacentHTML('afterbegin','<p>hello</p>');

        //作为最后一个子元素插入
        element.insertAdjacentHTML('beforeend','<p>hello</p>');

        //作为后一个同辈元素插入
        element.insertAdjacentHTML('afterend','<p>hello</p>');
        
        // 避免下面这样频繁操作
        for (var i = 0, len = values.length; i < len; i++){
          ul.innerHTML += '<li>' + values[i] + '</li>';	//每次循环访问两次innerHTML
        }

        // 更改
        var itemsHtml = '';
        for (var i = 0, len = values.length; i < len; i++){
          itemsHtml += '<li>' + values[i] + '</li>';
        }
        ul.innerHTML = itemsHtml;
        
        //让元素可见
        document.forms[0].scrollIntoView();
        
        console.log(document.documentElement.contains(document.body));	//true
    </script>

</head>
<body>
    <div class="bd user disabled"></div>
    <div id='myDiv' data-appId='12345' data-myname='tangcheng'></div>

    <div id="content">
        <p>this is a <strong>paragraph</strong> with a list following it.</p>
        <ul>
            <li>item 1</li>
            <li>item 2</li>
            <li>item 3</li>
        </ul>
    </div>

    <script>
        var result = document.documentElement.compareDocumentPosition(document.body);
        console.log(!!(result & 16));

        function contains(refNode, otherNode) {
            if (typeof refNode.contains == 'function' && (!client.engine.webkit || client.engine.webkit >= 522)) {
                return refNode.contains(otherNode);
            }else if (typeof refNode.compareDocumentPosition == 'function'){
                return !!(refNode.compareDocumentPosition(otherNode) & 16);
            }else {
                var node = otherNode.parentNode;
                do {
                    if (node === refNode){
                        return true;
                    }else {
                        node = node.parentNode;
                    }
                } while (node !== null);
                return false;
            }
        }

        var div = document.getElementById('content');
        console.log(div.innerText);
    </script>
</body>
</html>
